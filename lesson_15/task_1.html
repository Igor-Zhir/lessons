<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task 1</title>
</head>

<body>

  <h1 style="font-size: 25px; max-width: 800px; color: #333; padding-left: 20px;">
    Задача 1. Створити об’єкт «Тир». У масиві зберігаються 1, якщо у цьому квадраті є заєць і 0 в іншому випадку.
    --Поля(властивості) Масив, у якому зберігається поле з зайцями
    --Методи (дії) Метод пострілу (задається позиція пострілу)
        Виведення ігрового поля
  </h1>

  <script>
class ShootingRange {

  constructor (fieldWidt, amountRabbits) {
    this.fieldWidt = fieldWidt,
    this.amountRabbits = amountRabbits,
    this.gameField = this.ganereGameField()
  }
  getRandomNum(minValue = 0, maxValue){
    maxValue = maxValue ?? this.fieldWidt
    return minValue + Math.floor(Math.random() * (maxValue - minValue + 1))
  }

  ganereGameField() {
    let gameField = new Array(this.fieldWidt).fill(0)

    for (let rabbit = 0; rabbit < this.amountRabbits;) {
      let randomPosition = this.getRandomNum()
      if (gameField[randomPosition] === 0) {
        gameField[randomPosition] = 1
        rabbit++
      }
    }
    return gameField;
  }

  playGame() {
    let countShoots = 0 
    while (this.gameField.find(el => el === 1)) {
      let userShoot = parseInt(prompt('Робіть постріл') - 1)
      if (this.gameField[userShoot] === 1) {
        alert('Влучили')
        this.gameField[userShoot] = 0
        countShoots++
      } else {
        alert('Не влучили')
        countShoots++
      }
    }
    document.write(`Гру закінчено! <br>Ширина поля була ${this.fieldWidt} клітинок.<br>Зайців на полі було: ${this.amountRabbits}<br>Гру виграли за ${countShoots} пострілів.`)
  }
}

const userFieldWidt = parseInt(prompt('Вкажіть ширину ігрового поля'))
const userAmountRabbits = parseInt(prompt('Вкажіть кількість зайців на полі'))

let conditions = new ShootingRange(userFieldWidt, userAmountRabbits)
conditions.playGame()


  </script>
</body>

</html>